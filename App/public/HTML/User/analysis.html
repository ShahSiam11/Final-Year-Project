<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link rel="icon" type="image/png" sizes="32x32" href="/imagess/attendeaselogo.png">
  <title>Student Portal</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Sharp:opsz,wght,FILL,GRAD@48,400,0,0" />
  <link rel="stylesheet" href="/CSS/User/analysis.css">
</head>
<body>
   <div class="container">

    <aside>
      <div class="top">
        <h2 class="logo1"> AttendEase </h2>
        <div class="close" id="close_btn">
          <span class="material-symbols-sharp">close</span>
        </div>
      </div>
      <div class="sidebar">
        <a href="/Dashboard" class="nav-link"><lord-icon src="https://cdn.lordicon.com/cnpvyndp.json" colors="primary:#D455E6"class="icon"></lord-icon><h3>Dashboard</h3></a>
        <a href="/TimeTable" class="nav-link"><lord-icon src="https://cdn.lordicon.com/abfverha.json"  colors="primary:#D455E6"class="icon"></lord-icon><h3>Time Table</h3></a>
        <a href="/Analysis" class="active"><lord-icon src="https://cdn.lordicon.com/whrxobsb.json"  colors="primary:#D455E6"class="icon"></lord-icon><h3>Analysis</h3></a>
        <a href="/Profile" class="nav-link"><lord-icon src="https://cdn.lordicon.com/hrjifpbq.json" colors="primary:#D455E6" class="icon"></lord-icon><h3>Profile</h3></a>
        <a href="/Notification" class="nav-link"><lord-icon src="https://cdn.lordicon.com/vspbqszr.json" colors="primary:#D455E6" class="icon"></lord-icon><h3>Notifications</h3><span class="msg_count" id="unread-count">14</span></a>
        <a href="/Settings" class="nav-link"><lord-icon src="https://cdn.lordicon.com/lecprnjb.json" colors="primary:#D455E6" class="icon"></lord-icon><h3>Settings</h3></a>
        <a href="/" class="nav-link"><lord-icon src="https://cdn.lordicon.com/nqtddedc.json" colors="primary:#D455E6" class="icon"></lord-icon><h3>Logout</h3></a>
      </div>
    </aside>

      <main>

       <!-- end insights -->
      <div class="graph_container">
    <h2>Analytics</h2>
<div id="loadingSpinner" style="display: none;">Loading...</div>
<div id="errorMessage" style="display: none; color: red;"></div>
<table id="attendanceTable" aria-describedby="Attendance data table">


    <tbody></tbody>
</table>
<canvas id="attendanceChart" aria-label="Attendance Chart" role="img"></canvas>
          <br>
<button id="chartToggle">Toggle Chart Type</button>
      </div>
               <h2 id="greeting"></h2>

      </main>
      <!------------------
         end main
        ------------------->

      <!----------------
        start right main
      ---------------------->
    <div class="right">

<div class="top">
   <button id="menu_bar">
<lord-icon
    src="https://cdn.lordicon.com/nizfqlnk.json"
    trigger="hover"
    colors="primary:#D455E6"
    style="width:40px;height:40px">
</lord-icon>
   </button>
<!-- Wrap the new toggle in a container with the same class as before -->
<div class="theme-toggler">
  <label class="switch">
    <!-- Using the same id ("input") so that your existing JS continues to work -->
    <input id="input" type="checkbox" />
    <div class="slider round">
      <div class="sun-moon">
        <!-- Moon dots and light rays (SVGs for the animated sun/moon) -->
        <svg id="moon-dot-1" class="moon-dot" viewBox="0 0 100 100">
          <circle cx="50" cy="50" r="50"></circle>
        </svg>
        <svg id="moon-dot-2" class="moon-dot" viewBox="0 0 100 100">
          <circle cx="50" cy="50" r="50"></circle>
        </svg>
        <svg id="moon-dot-3" class="moon-dot" viewBox="0 0 100 100">
          <circle cx="50" cy="50" r="50"></circle>
        </svg>
        <svg id="light-ray-1" class="light-ray" viewBox="0 0 100 100">
          <circle cx="50" cy="50" r="50"></circle>
        </svg>
        <svg id="light-ray-2" class="light-ray" viewBox="0 0 100 100">
          <circle cx="50" cy="50" r="50"></circle>
        </svg>
        <svg id="light-ray-3" class="light-ray" viewBox="0 0 100 100">
          <circle cx="50" cy="50" r="50"></circle>
        </svg>
        <!-- Clouds (two types to allow color variations) -->
        <svg id="cloud-1" class="cloud-dark" viewBox="0 0 100 100">
          <circle cx="50" cy="50" r="50"></circle>
        </svg>
        <svg id="cloud-2" class="cloud-dark" viewBox="0 0 100 100">
          <circle cx="50" cy="50" r="50"></circle>
        </svg>
        <svg id="cloud-3" class="cloud-dark" viewBox="0 0 100 100">
          <circle cx="50" cy="50" r="50"></circle>
        </svg>
        <svg id="cloud-4" class="cloud-light" viewBox="0 0 100 100">
          <circle cx="50" cy="50" r="50"></circle>
        </svg>
        <svg id="cloud-5" class="cloud-light" viewBox="0 0 100 100">
          <circle cx="50" cy="50" r="50"></circle>
        </svg>
        <svg id="cloud-6" class="cloud-light" viewBox="0 0 100 100">
          <circle cx="50" cy="50" r="50"></circle>
        </svg>
      </div>
      <div class="stars">
        <svg id="star-1" class="star" viewBox="0 0 20 20">
          <path d="M 0 10 C 10 10,10 10, 0 10 C 10 10, 10 10, 10 20 C 10 10, 10 10, 20 10 C 10 10, 10 10, 10 0 C 10 10,10 10, 0 10 Z"></path>
        </svg>
        <svg id="star-2" class="star" viewBox="0 0 20 20">
          <path d="M 0 10 C 10 10,10 10, 0 10 C 10 10, 10 10, 10 20 C 10 10, 10 10, 20 10 C 10 10, 10 10, 10 0 C 10 10,10 10, 0 10 Z"></path>
        </svg>
        <svg id="star-3" class="star" viewBox="0 0 20 20">
          <path d="M 0 10 C 10 10,10 10, 0 10 C 10 10, 10 10, 10 20 C 10 10, 10 10, 20 10 C 10 10, 10 10, 10 0 C 10 10,10 10, 0 10 Z"></path>
        </svg>
        <svg id="star-4" class="star" viewBox="0 0 20 20">
          <path d="M 0 10 C 10 10,10 10, 0 10 C 10 10, 10 10, 10 20 C 10 10, 10 10, 20 10 C 10 10, 10 10, 10 0 C 10 10,10 10, 0 10 Z"></path>
        </svg>
      </div>
    </div>
  </label>
</div>

    <div class="profile">
       <div class="info">
           <b><p id="name"></p></b>
           <p id="role"></p>
           <small class="text-muted"></small>
       </div>
       <!--<div class="profile-photo">
         <img src="./images/profile-1.jpg" alt=""/>
       </div>-->
    </div>
</div>



<div class="sales-analytics">
  <h2>Subject Analytics</h2>
  <div id="subjectAnalyticsList"></div> <!-- Dynamic content will be added here -->
</div>


</div>


   </div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.lordicon.com/lordicon.js"></script>
   <script src="/JavaScript/User/analysis.js"></script>
</body>
</html>